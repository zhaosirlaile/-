<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <script>
/**
 * @param {number[]} nums
 * @return {number[][]}
 */
// 双指针
// var threeSum = function(nums) {
//     const res = []
//     if(nums === null || nums.length < 3) return res;
//     // 去重
//     nums.sort((a,b) => a - b)
//     for(let i = 0; i < nums.length;i++) {
//         if(nums[i] > 0) break;
//         if(i > 0 && nums[i] == nums[i-1]) continue;
//         let left = i + 1,
//             right = nums.length - 1;
//         while(left < right) {
//             const sum = nums[i] + nums[left] + nums[right]
//             if(sum === 0) {
//                 res.push([nums[i],nums[left],nums[right]])
//                 while(left < right && nums[left] === nums[left + 1]) left ++;
//                 while(left < right && nums[right] === nums[right - 1]) right --;
//                 left ++;
//                 right --;
//             } else if (sum < 0){
//                 left ++;
//             } else {
//                 right --;
//             }
//         }
//     }
//     return res;
// };

//  Map ： 有缺陷
var threeSum = function(nums) {
    const res = [];
    if(nums === null || nums.length < 3) return res;
    nums.sort((a,b) => a-b);
    for(let i = 0; i < nums.length - 1; i++) {
        if(i > 0  && nums[i] === nums[i - 1]) continue;
        const map = new Map();
        for(let j = i + 1; j < nums.length; j++) {
            if(map.get(-nums[i]-nums[j]) != null) {
                res.push([nums[i],-(nums[i]+nums[j]),nums[j]]);
            } else {
                map.set(nums[j],1);
            }
        }
    }
    return res;
};
console.log(threeSum([0,0,0,0]));
    </script>
</body>
</html>