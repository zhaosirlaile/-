<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <script>
/**
 * // Definition for a Node.
 * function Node(val, next, random) {
 *    this.val = val;
 *    this.next = next;
 *    this.random = random;
 * };
 */

/**
 * @param {Node} head
 * @return {Node}
 */
 var copyRandomList = function(head) {
      let temp = null;
  let p = head,
    q = head;
  while(p) {
    temp = p.next;
    p.next = new Node(p.label);
    p= p.next;
    p.next = temp;
    p = p.next;
  }
  let res = q.next,
    r = q.next;
  while(q) {
    if(q.random) {
      q.next.random =  q.random.next;
    }
    q = q.next;
    q = q.next;
  }
  while(r && r.next && r.next.next) {
    r.next = r.next.next;
    r = r.next;
  }
  return res;
};
    </script>
</body>
</html>